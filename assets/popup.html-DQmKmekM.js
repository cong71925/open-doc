import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,f as p}from"./app-BPf6K1Jt.js";const e={},t=p(`<p>此处一般定义的是图层或点位绑定点击事件时的弹窗组件，在widgets中弹窗也可以在此处定义。</p><p>一般放在<code>/src/popup</code>下。</p><h2 id="编写popup" tabindex="-1"><a class="header-anchor" href="#编写popup"><span>编写popup</span></a></h2><ol><li>在<code>/src/popup</code>下新建对应的文件夹，此次示例中新建的popup名称为demo。</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>└─src
    └─popup           
        └─demo          - 新建的Widget组件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>在新建的popup文件中新建入口vue文件。</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>└─src
    └─popup           
        └─demo          
            └─index.vue - 新建的入口文件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>在入口文件编写业务代码。</li></ol><h2 id="使用popup" tabindex="-1"><a class="header-anchor" href="#使用popup"><span>使用popup</span></a></h2><p>在任何地方使用：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> openPopup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/popup&#39;</span>
<span class="token keyword">import</span> demoPopup <span class="token keyword">from</span> <span class="token string">&#39;@/popup/demo/index.vue&#39;</span>

<span class="token function">openPopup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token doc-comment comment">/** 弹窗内的组件 */</span>
  component<span class="token operator">:</span> demoPopup<span class="token punctuation">,</span>
  <span class="token doc-comment comment">/** 弹窗的标题 */</span>
  title<span class="token operator">:</span> <span class="token string">&#39;demo标题&#39;</span><span class="token punctuation">,</span>
  <span class="token doc-comment comment">/** 弹窗的宽度 */</span>
  width<span class="token operator">:</span> <span class="token string">&#39;40vw&#39;</span><span class="token punctuation">,</span>
  <span class="token doc-comment comment">/** 传递进组件的props的数据 */</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#39;label&#39;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在图层中使用：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> graphic <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;mars3d&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GraphicMssAttr <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/types/graphicMss&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> openPopup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils/popup&#39;</span>
<span class="token keyword">import</span> demoPopup <span class="token keyword">from</span> <span class="token string">&#39;@/popup/demo/index.vue&#39;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> VNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  pid<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  id<span class="token operator">:</span> <span class="token string">&quot;WgmssPdMSS&quot;</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">&quot;arcgis_wfs&quot;</span><span class="token punctuation">,</span>
  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/services/XM_LWJCZHZL/MSS_LW/FeatureServer/0</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
  show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token doc-comment comment">/** 绑定点击事件 */</span>
  <span class="token function-variable function">popup</span><span class="token operator">:</span> <span class="token punctuation">(</span>payload<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** 类型收缩 */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> payload <span class="token operator">!==</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">&#39;graphic&#39;</span> <span class="token keyword">in</span> payload<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>graphic <span class="token keyword">instanceof</span> <span class="token class-name">graphic</span><span class="token punctuation">.</span>BillboardPrimitive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/** 类型断言 */</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> payload<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>attr <span class="token keyword">as</span> GraphicMssAttr
    <span class="token doc-comment comment">/** 打开弹窗 */</span>
    <span class="token function">openPopup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      component<span class="token operator">:</span> demoPopup<span class="token punctuation">,</span>
      title<span class="token operator">:</span> <span class="token string">&#39;详情&#39;</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token string">&#39;40vw&#39;</span><span class="token punctuation">,</span>
      props<span class="token operator">:</span> <span class="token punctuation">{</span> payload<span class="token operator">:</span> attr <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),o=[t];function c(i,l){return s(),a("div",null,o)}const d=n(e,[["render",c],["__file","popup.html.vue"]]),m=JSON.parse('{"path":"/map/popup.html","title":"弹窗","lang":"zh-CN","frontmatter":{"title":"弹窗","order":6,"date":"2024-10-23T00:00:00.000Z","category":["开发文档","地图"],"description":"此处一般定义的是图层或点位绑定点击事件时的弹窗组件，在widgets中弹窗也可以在此处定义。 一般放在/src/popup下。 编写popup 在/src/popup下新建对应的文件夹，此次示例中新建的popup名称为demo。 在新建的popup文件中新建入口vue文件。 在入口文件编写业务代码。 使用popup 在任何地方使用： 在图层中使用：","head":[["meta",{"property":"og:url","content":"https://doc.congvps.fun/map/popup.html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"弹窗"}],["meta",{"property":"og:description","content":"此处一般定义的是图层或点位绑定点击事件时的弹窗组件，在widgets中弹窗也可以在此处定义。 一般放在/src/popup下。 编写popup 在/src/popup下新建对应的文件夹，此次示例中新建的popup名称为demo。 在新建的popup文件中新建入口vue文件。 在入口文件编写业务代码。 使用popup 在任何地方使用： 在图层中使用："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-23T07:18:16.000Z"}],["meta",{"property":"article:author","content":"狭雾"}],["meta",{"property":"article:published_time","content":"2024-10-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-23T07:18:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"弹窗\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-10-23T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-23T07:18:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"狭雾\\",\\"url\\":\\"https://congvps.fun\\"}]}"]]},"headers":[{"level":2,"title":"编写popup","slug":"编写popup","link":"#编写popup","children":[]},{"level":2,"title":"使用popup","slug":"使用popup","link":"#使用popup","children":[]}],"git":{"createdTime":1729667896000,"updatedTime":1729667896000,"contributors":[{"name":"cong71925","email":"cong71925@gmail.com","commits":1}]},"readingTime":{"minutes":1.12,"words":336},"filePathRelative":"map/popup.md","localizedDate":"2024年10月23日","autoDesc":true}');export{d as comp,m as data};
