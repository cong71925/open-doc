import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as s,o,c as l,a as e,b as n,d as a,f as r}from"./app-rkg3-Q7I.js";const c={},p=e("h2",{id:"env文件",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#env文件"},[e("span",null,[e("code",null,".env"),n("文件")])])],-1),d={href:"https://github.com/motdotla/dotenv",target:"_blank",rel:"noopener noreferrer"},v={href:"https://vitejs.cn/vite3-cn/config/shared-options.html#envdir",target:"_blank",rel:"noopener noreferrer"},u=r(`<div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>.env                # 所有情况下都会加载
.env.local          # 所有情况下都会加载，但会被 git 忽略
.env.[mode]         # 只在指定模式下加载
.env.[mode].local   # 只在指定模式下加载，但会被 git 忽略
.env.development    # 只在开发环境模式下加载
.env.production     # 只在生产环境模式下加载
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>一份用于指定模式的文件（例如 .env.production）会比通用形式的优先级更高（例如 .env）。</p><p>另外，Vite 执行时已经存在的环境变量有最高的优先级，不会被 .env 类文件覆盖。例如当运行 VITE_SOME_KEY=123 vite build 的时候。</p><p>.env 类文件会在 Vite 启动一开始时被加载，而改动会在重启服务器后生效。 加载的环境变量也会通过 <code>import.meta.env</code> 以字符串形式暴露给客户端源码。</p></div><p>为了防止意外地将一些环境变量泄漏到客户端，只有以 VITE_ 为前缀的变量才会暴露给经过 vite 处理的代码。例如下面这些环境变量：</p><div class="language-env line-numbers-mode" data-ext="env" data-title="env"><pre class="language-env"><code>VITE_SOME_KEY=123
DB_PASSWORD=foobar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>只有 <code>VITE_SOME_KEY</code> 会被暴露为 <code>import.meta.env.VITE_SOME_KEY</code> 提供给客户端源码，而 <code>DB_PASSWORD</code> 则不会。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_SOME_KEY</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DB_PASSWORD</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量"><span>配置环境变量</span></a></h2><h3 id="vite-api-base-url" tabindex="-1"><a class="header-anchor" href="#vite-api-base-url"><span><code>VITE_API_BASE_URL</code></span></a></h3><p>接口请求的根路径。</p><p>当使用<code>useAxios</code>发起的请求使用的url为相对路径时，使用此处配置的url作为根路径。</p><h3 id="vite-no-token-redirect-url" tabindex="-1"><a class="header-anchor" href="#vite-no-token-redirect-url"><span><code>VITE_NO_TOKEN_REDIRECT_URL</code></span></a></h3><p>无Token时跳转地址。</p><p>当使用<code>useAxios</code>时收到的响应的状态码为401时，页面要强制跳转的地址。</p><h3 id="vite-file-preview-url" tabindex="-1"><a class="header-anchor" href="#vite-file-preview-url"><span><code>VITE_FILE_PREVIEW_URL</code></span></a></h3><p>文件访问地址。</p><p>当文件上传到服务器时，返回的文件访问地址一般为相对路径。</p><p>使用此处配置的url作为文件访问的根路径。</p><h3 id="vite-file-upload-url" tabindex="-1"><a class="header-anchor" href="#vite-file-upload-url"><span><code>VITE_FILE_UPLOAD_URL</code></span></a></h3><p>文件上传的接口地址。</p><h3 id="vite-file-preview-service-url" tabindex="-1"><a class="header-anchor" href="#vite-file-preview-service-url"><span><code>VITE_FILE_PREVIEW_SERVICE_URL</code></span></a></h3><p>文件预览服务地址。</p><h3 id="vite-web-socket-url" tabindex="-1"><a class="header-anchor" href="#vite-web-socket-url"><span><code>VITE_WEB_SOCKET_URL</code></span></a></h3><p>websocket地址。</p><h3 id="vite-arcgis-202-url" tabindex="-1"><a class="header-anchor" href="#vite-arcgis-202-url"><span><code>VITE_ARCGIS_202_URL</code></span></a></h3><p>地图服务访问地址。</p>`,25);function _(h,m){const t=s("ExternalLinkIcon");return o(),l("div",null,[p,e("p",null,[n("Vite 使用 "),e("a",d,[n("dotenv"),a(t)]),n(" 从你的 "),e("a",v,[n("环境目录"),a(t)]),n(" 中的下列文件加载额外的环境变量：")]),u])}const k=i(c,[["render",_],["__file","env.html.vue"]]),f=JSON.parse('{"path":"/map/env.html","title":"环境变量","lang":"zh-CN","frontmatter":{"title":"环境变量","order":2,"date":"2024-10-23T00:00:00.000Z","category":["开发文档","地图"],"description":".env文件 Vite 使用 dotenv 从你的 环境目录 中的下列文件加载额外的环境变量： 注意 一份用于指定模式的文件（例如 .env.production）会比通用形式的优先级更高（例如 .env）。 另外，Vite 执行时已经存在的环境变量有最高的优先级，不会被 .env 类文件覆盖。例如当运行 VITE_SOME_KEY=123 vite ...","head":[["meta",{"property":"og:url","content":"https://doc.congvps.fun/map/env.html"}],["meta",{"property":"og:site_name","content":"文档演示"}],["meta",{"property":"og:title","content":"环境变量"}],["meta",{"property":"og:description","content":".env文件 Vite 使用 dotenv 从你的 环境目录 中的下列文件加载额外的环境变量： 注意 一份用于指定模式的文件（例如 .env.production）会比通用形式的优先级更高（例如 .env）。 另外，Vite 执行时已经存在的环境变量有最高的优先级，不会被 .env 类文件覆盖。例如当运行 VITE_SOME_KEY=123 vite ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-25T09:18:07.000Z"}],["meta",{"property":"article:author","content":"狭雾"}],["meta",{"property":"article:published_time","content":"2024-10-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-25T09:18:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"环境变量\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-10-23T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-25T09:18:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"狭雾\\",\\"url\\":\\"https://congvps.fun\\"}]}"]]},"headers":[{"level":2,"title":".env文件","slug":"env文件","link":"#env文件","children":[]},{"level":2,"title":"配置环境变量","slug":"配置环境变量","link":"#配置环境变量","children":[{"level":3,"title":"VITE_API_BASE_URL","slug":"vite-api-base-url","link":"#vite-api-base-url","children":[]},{"level":3,"title":"VITE_NO_TOKEN_REDIRECT_URL","slug":"vite-no-token-redirect-url","link":"#vite-no-token-redirect-url","children":[]},{"level":3,"title":"VITE_FILE_PREVIEW_URL","slug":"vite-file-preview-url","link":"#vite-file-preview-url","children":[]},{"level":3,"title":"VITE_FILE_UPLOAD_URL","slug":"vite-file-upload-url","link":"#vite-file-upload-url","children":[]},{"level":3,"title":"VITE_FILE_PREVIEW_SERVICE_URL","slug":"vite-file-preview-service-url","link":"#vite-file-preview-service-url","children":[]},{"level":3,"title":"VITE_WEB_SOCKET_URL","slug":"vite-web-socket-url","link":"#vite-web-socket-url","children":[]},{"level":3,"title":"VITE_ARCGIS_202_URL","slug":"vite-arcgis-202-url","link":"#vite-arcgis-202-url","children":[]}]}],"git":{"createdTime":1729667896000,"updatedTime":1729847887000,"contributors":[{"name":"cong71925","email":"cong71925@gmail.com","commits":2}]},"readingTime":{"minutes":1.83,"words":550},"filePathRelative":"map/env.md","localizedDate":"2024年10月23日","autoDesc":true}');export{k as comp,f as data};
