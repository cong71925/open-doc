---
# 这是文章的标题
title: 安装项目依赖
order: 3
# 设置写作时间
date: 2024-04-23
# 一个页面可以有多个分类
category:
  - 开发文档
# 一个页面可以有多个标签
---

一般而言，基于现代化前端构建工具（如webpack，vite）构建的项目，在拉取项目后，还需要安装相关的依赖，才能使项目正常的运行和构建。

但假如项目使用的是JQuery之类的，本章节可以跳过。

## 选择包管理器

安装依赖时，我们应该选择正确的包管理器安装依赖：

在项目根目录找一下，是否有```package-lock.json```， ```yarn.lock```，```pnpm-lock.yaml```文件，这些文件依次代表```npm```，```yarn```，```pnpm```包管理器的lock文件。后续安装依赖时应使用对应的包管理器安装依赖。

如果都没有，说明这是初次安装依赖，我们可以根据个人喜好和项目特性选择一个合适的包管理器。

| 特性        | npm         | yarn        | pnpm        |
| ----------- | ----------- | ----------- | ---------- |
| 安装速度 | 相对较慢 | 快 | 最快 |
| 离线模式 | 不支持 | 支持 | 支持 |
| 并行下载 | 不支持 | 支持 | 支持 |
| 内存管理 | 一般 | 一般 | 更好 |
| 依赖项缓存 | 占用较多磁盘空间 | 占用较多磁盘空间 | 占用较少磁盘空间 |
| 兼容性 | 良好 | 良好 | 可能存在问题 |
| 幻影依赖问题 | 没有 | 有 | 没有 |

一般而言，在初次安装依赖的项目，我更推荐使用pnpm。

## 安装依赖

使用对应的包管理器安装依赖：
::: code-tabs
@tab npm
```bash
npm install
```
@tab yarn
```bash
yarn install
```
@tab pnpm
```bash
pnpm install
```
:::

在初次安装依赖包时，对应的包管理器会生成lock文件会锁定当前的依赖树，并记录每个依赖包的确切版本号和依赖关系。

当重新安装依赖包时，我们应根据对应的lock文件使用对应的包管理器。包管理器将使用lock文件中记录的版本和依赖关系来安装依赖包，而不是根据package.json文件中的符号依赖去解析版本。这确保了依赖包版本的一致性。